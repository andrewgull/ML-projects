df
summary(df)
install.packages("skimr")
skimr::skim_to_wide(df)
View(df)
?read_csv
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "cfiddccddcf", na = "N/A")
problems()
colspec <- "ccdnncccddcf"
length(colspec)
nchar(colspec)
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "ccdnncccddcf", na = "N/A")
skimr::skim_to_wide(df)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(caret)
#library(GGally)
GGally::ggpairs(df, aes(color = stroke, alpha=0.2, dotsize=0.02),
upper = list(continuous = wrap("cor", size = 2.5)),
diag=list(continuous ="barDiag"))+
scale_color_brewer(palette = "Set1")+
scale_fill_brewer(palette = "Set1")
df$id <- NULL
GGally::ggpairs(df, aes(color = stroke, alpha=0.2, dotsize=0.02),
upper = list(continuous = wrap("cor", size = 2.5)),
diag=list(continuous ="barDiag"))+
scale_color_brewer(palette = "Set1")+
scale_fill_brewer(palette = "Set1")
knitr::opts_chunk$set(echo = TRUE, message = F, warning = F)
library(tidyverse)
library(caret)
#library(GGally)
GGally::ggpairs(df, aes(color = stroke, alpha=0.2, dotsize=0.02),
upper = list(continuous = wrap("cor", size = 2.5)),
diag=list(continuous ="barDiag"))+
scale_color_brewer(palette = "Set1")+
scale_fill_brewer(palette = "Set1")
GGally::ggpairs(df, aes(color = stroke, alpha=0.2, dotsize=0.02),
upper = list(continuous = wrap("cor", size = 2.5)),
diag=list(continuous ="barDiag"))+
scale_color_brewer(palette = "Set1")+
scale_fill_brewer(palette = "Set1")
names(df)
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "ccdffcccddcf", na = "N/A")
skimr::skim_to_wide(df)
df$id <- NULL
GGally::ggpairs(df, aes(color = stroke, alpha=0.2, dotsize=0.02),
upper = list(continuous = wrap("cor", size = 2.5)),
diag=list(continuous ="barDiag"))+
scale_color_brewer(palette = "Set1")+
scale_fill_brewer(palette = "Set1")
df
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "cfdfffffddff", na = "N/A")
df
skimr::skim_to_wide(df)
df$id <- NULL
skimr::skim_to_wide(df)
df$smoking_status <- ifelse(df$smoking_status == "Unknown", NA, df$smoking_status)
df
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "cfdfffffddff", na = "N/A")
df
df$smoking_status <- if_else(df$smoking_status == "Unknown", NA, df$smoking_status)
?if_else
df$smoking_status <- if_else(df$smoking_status == "Unknown", NA, smoking_status)
df$smoking_status <- if_else(smoking_status == "Unknown", NA, smoking_status)
?na_if
na_if(df$smoking_status, "Unknown")
na_if(df$smoking_status, "Unknown")[1:10]
df$smoking_status <- na_if(df$smoking_status, "Unknown")
df$smoking_status <- fct_relevel(df$smoking_status, c("never smoked", "formerly smoked", "smokes"))
df$id <- NULL
skimr::skim_to_wide(df)
GGally::ggpairs(df, aes(color = stroke, alpha=0.2, dotsize=0.02),
upper = list(continuous = wrap("cor", size = 2.5)),
diag=list(continuous ="barDiag"))+
scale_color_brewer(palette = "Set1")+
scale_fill_brewer(palette = "Set1")
knitr::opts_chunk$set(echo = TRUE, message = F, warning = F)
library(tidyverse)
library(caret)
#library(GGally)
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "cfdfffffddff", na = "N/A")
df
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "cfdfffffddff", na = c("Unknown", "N/A"))
df
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "cfdfffffddff", na = c("Unknown", "N/A"))
df
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "cfdfffffddcf", na = c("Unknown", "N/A"))
df
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "cfdfffffddcf", na = c("Unknown", "N/A"))
# if you set smoking_status to factor in col_types, na() won't work
df$smoking_status <- as_factor(df$smoking_status)
df
df$id <- NULL
skimr::skim_to_wide(df)
summry(df)
summary(df)
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "cfdfffffddcf", na = c("Unknown", "N/A"))
# if you set smoking_status to factor in col_types, na() won't work
df$smoking_status <- as_factor(df$smoking_status)
df$smoking_status <- fct_relevel(df$smoking_status, c("never smoked", "formerly smoked", "smokes"))
df
df$id <- NULL
skimr::skim_to_wide(df)
GGally::ggpairs(df, aes(color = stroke, alpha=0.2, dotsize=0.02),
upper = list(continuous = wrap("cor", size = 2.5)),
diag=list(continuous ="barDiag"))+
scale_color_brewer(palette = "Set1")+
scale_fill_brewer(palette = "Set1")
GGally::ggpairs(df, aes(color = stroke, alpha=0.2, dotsize=0.02),
upper = list(continuous = GGally::wrap("cor", size = 2.5)),
diag=list(continuous ="barDiag"))+
scale_color_brewer(palette = "Set1")+
scale_fill_brewer(palette = "Set1")
GGally::ggpairs(df, aes(color = stroke, alpha=0.2, dotsize=0.02),
upper = list(continuous = GGally::wrap("cor", size = 2.5)),
diag=list(continuous ="barDiag"))+
scale_color_brewer(palette = "Set1")+
scale_fill_brewer(palette = "Set1")
df$id <- NULL
skimr::skim_to_wide(df)
install.packages("DMwR")
install.packages( "/Users/andgu885/Downloads/DMwR_0.4.1.tar.gz", repos=NULL, type="source" )
install.packages(c("xts", "quantmod"))
install.packages( "/Users/andgu885/Downloads/DMwR_0.4.1.tar.gz", repos=NULL, type="source" )
knitr::opts_chunk$set(echo = TRUE, message = F, warning = F)
library(tidyverse)
library(caret)
#library(GGally)
library(DMwR) # installed via archive: install.packages("/Path/to/DMwR_0.4.1.tar.gz", repos=NULL, type="source" )
to_scale <- df %>% select(avg_glucose_level, age, bmi) %>% scale()
to_scale
to_dum <- df %>% select(ever_married, work_type) %>% dummyVars()
to_dum <- df %>% select(ever_married, work_type)
dummyVars(to_dum)
dummyVars(data=to_dum)
?dummyVars
dummyVars(~ ever_marries + work_type, data=to_dum)
dummyVars(~ ever_marries + work_type, data=to_dum)
dummyVars(~ ever_married + work_type, data=to_dum)
dum <- dummyVars(~ ever_married + work_type, data=to_dum)
dum
install.packages("dummies")
data.frame(predict(dum, newdata=to_dum))
View(df)
head(df)
rm(dum)
# select vars
to_dum <- df %>% select(gender, ever_married, work_type, Residence_type, smoking_status)
# make an obj
dummies <- dummyVars(~ ., data=to_dum)
# apply it
dummy_df <- data.frame(predict(dummies, newdata=to_dum))
head(dummy_df)
df_scaled <- df %>% select(avg_glucose_level, age, bmi) %>% scale() %>% data_frame()
View(df_scaled)
dim(df_scaled)
df_scaled <- df %>% select(avg_glucose_level, age, bmi) %>% scale() %>% data.frame()
dim(df_scaled)
# select vars
to_dum <- df %>% select(gender, ever_married, work_type, Residence_type, smoking_status)
# make an obj
dummies <- dummyVars(~ ., data=to_dum)
# apply it
df_dummy <- data.frame(predict(dummies, newdata=to_dum))
head(df_dummy)
head(df)
df_proc <- bind_rows(df_scaled, df_dummy, select(df, hypertension, heart_disease, stroke))
df_proc
df_proc <- bind_cols(df_scaled, df_dummy, select(df, hypertension, heart_disease, stroke))
df_proc
df_proc %>%
mutate(bmi = ifelse(is.na(bmi), median(bmi, na.rm = TRUE), bmi))
df_proc <- df_proc %>%
mutate(bmi = ifelse(is.na(bmi), median(bmi, na.rm = TRUE), bmi))
library(DMwR)
set.seed(1234)
sample_set <- createDataPartition(y = df_proc$stroke, p = .75, list = FALSE)
income_train <- df_proc[sample_set,]
income_test <- df_proc[-sample_set,]
# DMwR::SMOTE for imbalanced data
income_train <- SMOTE(stroke ~ ., data.frame(income_train), perc.over = 100, perc.under = 200)
set.seed(1234)
sample_set <- createDataPartition(y = df_proc$stroke, p = .75, list = FALSE)
df_train <- df_proc[sample_set,]
df_test <- df_proc[-sample_set,]
# DMwR::SMOTE for imbalanced data
df_train <- SMOTE(stroke ~ ., data.frame(income_train), perc.over = 100, perc.under = 200)
set.seed(1234)
sample_set <- createDataPartition(y = df_proc$stroke, p = .75, list = FALSE)
df_train <- df_proc[sample_set,]
df_test <- df_proc[-sample_set,]
# DMwR::SMOTE for imbalanced data
df_train <- SMOTE(stroke ~ ., data.frame(df_train), perc.over = 100, perc.under = 200)
summary(df_train)
summary(df_test)
fit_ctrl_xgb_roc <- trainControl(## 5-fold CV
method = "repeatedcv",
number = 5,
repeats = 5,
allowParallel = T,
classProbs = T,
summaryFunction = twoClassSummary)
fit_xgb <- train(stroke ~ .,
data = df_train,
metric = "ROC",
method = "xgbDART",
trControl = fit_ctrl_xgb_roc,
verbosity = 0,
verbose = FALSE)
fit_xgb <- train(stroke ~ .,
data = df_train,
metric = "ROC",
method = "RF",
trControl = fit_ctrl_xgb_roc,
verbosity = 0,
verbose = FALSE)
load("workspace.RData")
fit_xgb_roc
fit_xgb_roc$bestTune
fit_xgb_roc$results
head(fit_xgb_roc$results)
library(dplyr)
fit_xgb_roc$results %>% filter(nrounds == 50, max_depth == 2, eta == 0.3)
fit_xgb_roc$results %>% filter(nrounds == 50, max_depth == 2, eta == 0.3, gamm == 0, subsample == 1)
fit_xgb_roc$results %>% filter(nrounds == 50, max_depth == 2, eta == 0.3, gamma == 0, subsample == 1)
fit_xgb_roc$results %>% filter(nrounds == 50, max_depth == 2, eta == 0.3, gamma == 0, subsample == 1, rate_drop==0.5)
fit_xgb_roc$results %>% filter(nrounds == 50, max_depth == 2, eta == 0.3, gamma == 0, subsample == 1, rate_drop==0.5, colsample_bytree == 0.6)
fit_xgb_roc$results %>% filter(nrounds == 50, max_depth == 2, eta == 0.3, gamma == 0, subsample == 1, rate_drop==0.5, colsample_bytree == 0.6, skip_drop == 0.95)
knitr::opts_chunk$set(echo = TRUE, message = F, warning = F, cache = T)
library(tidyverse)
library(caret)
#library(GGally)
library(DMwR) # installed via archive: install.packages("/Path/to/DMwR_0.4.1.tar.gz", repos=NULL, type="source" )
fit_rf_roc
fit_xgb_roc$results %>% filter(nrounds == 50, max_depth == 2, eta == 0.3, gamma == 0, subsample == 1, rate_drop==0.5, colsample_bytree == 0.6, skip_drop == 0.95)
fit_xgb_roc$bestTune
imp_vars_rf <- varImp(fit_rf_roc)
plot(imp_vars_rf, main="Variable Importance with RF")
df_test
predClasses_rf_roc <- predict(fit_rf_roc, newdata=df_test)
cm_rf_roc <- confusionMatrix(data = predClasses_rf_roc,
reference = df_test$stroke,
mode="everything",
positive="yes")
cm_rf_roc
imp_vars_xgb <- varImp(fit_xgb_roc)
plot(imp_vars_xgb, main="Variable Importance with XGB")
predClasses_xgb_roc <- predict(fit_xgb_roc, newdata=df_test)
cm_xgb_roc <- confusionMatrix(data = predClasses_xgb_roc,
reference = df_test$stroke,
mode="everything",
positive="yes")
cm_xgb_roc
predClasses_xgb_roc <- predict(fit_xgb_roc, newdata=df_test)
cm_xgb_roc <- confusionMatrix(data = predClasses_xgb_roc,
reference = df_test$stroke,
mode="everything",
positive="yes")
cm_xgb_roc
library(ROCR)
get_roc <- function(fit.obj, testing.df){
pred_prob <- predict.train(fit.obj, newdata = testing.df, type="prob")
pred_roc <- prediction(predictions = pred_prob$S, labels = testing.df$resistance)
perf_roc <- performance(pred_roc, measure="tpr", x.measure = "fpr")
return(perf_roc)
}
# calculate ROC
perf_roc_rf <- get_roc(fit_rf_roc, df_test)
get_roc <- function(fit.obj, testing.df){
pred_prob <- predict.train(fit.obj, newdata = testing.df, type="prob")
pred_roc <- prediction(predictions = pred_prob$S, labels = testing.df$stroke)
perf_roc <- performance(pred_roc, measure="tpr", x.measure = "fpr")
return(perf_roc)
}
# calculate ROC
perf_roc_rf <- get_roc(fit_rf_roc, df_test)
get_roc <- function(fit.obj, testing.df){
pred_prob <- predict.train(fit.obj, newdata = testing.df, type="prob")
pred_roc <- prediction(predictions = pred_prob$yes, labels = testing.df$stroke)
perf_roc <- performance(pred_roc, measure="tpr", x.measure = "fpr")
return(perf_roc)
}
# calculate ROC
perf_roc_rf <- get_roc(fit_rf_roc, df_test)
# take AUC
auc_rf <- round(unlist(slot(performance(pred_roc_rf, measure = "auc"), "y.values")), 3)
get_roc <- function(fit.obj, testing.df){
pred_prob <- predict.train(fit.obj, newdata = testing.df, type="prob")
pred_roc <- prediction(predictions = pred_prob$yes, labels = testing.df$stroke)
perf_roc <- performance(pred_roc, measure="tpr", x.measure = "fpr")
return(list(perf_roc, pred_prob))
}
# calculate ROC
perf_pred <- get_roc(fit_rf_roc, df_test)
perf_roc_rf <- perf_pred[[1]]
pred_roc_df <- perf_pred[[2]]
# take AUC
auc_rf <- round(unlist(slot(performance(pred_roc_rf, measure = "auc"), "y.values")), 3)
# calculate ROC
perf_pred <- get_roc(fit_rf_roc, df_test)
perf_roc_rf <- perf_pred[[1]]
pred_roc_rf <- perf_pred[[2]]
# take AUC
auc_rf <- round(unlist(slot(performance(pred_roc_rf, measure = "auc"), "y.values")), 3)
get_roc <- function(fit.obj, testing.df){
pred_prob <- predict.train(fit.obj, newdata = testing.df, type="prob")
pred_roc <- prediction(predictions = pred_prob$yes, labels = testing.df$stroke)
perf_roc <- performance(pred_roc, measure="tpr", x.measure = "fpr")
return(list(perf_roc, pred_roc))
}
# calculate ROC
perf_pred <- get_roc(fit_rf_roc, df_test)
perf_roc_rf <- perf_pred[[1]]
pred_roc_rf <- perf_pred[[2]]
# take AUC
auc_rf <- round(unlist(slot(performance(pred_roc_rf, measure = "auc"), "y.values")), 3)
# plot
plot(perf_roc_rf, main = "RF ROC curve", col = "steelblue", lwd = 3)
abline(a = 0, b = 1, lwd = 3, lty = 2, col = 1)
legend(x = 0.8, y = 0.3, legend = paste0("AUC = ", auc_rf))
# calculate ROC
perf_pred <- get_roc(fit_rf_roc, df_test)
perf_roc_rf <- perf_pred[[1]]
pred_roc_rf <- perf_pred[[2]]
# take AUC
auc_rf <- round(unlist(slot(performance(pred_roc_rf, measure = "auc"), "y.values")), 3)
# plot
plot(perf_roc_rf, main = "RF ROC curve", col = "steelblue", lwd = 3)
abline(a = 0, b = 1, lwd = 3, lty = 2, col = 1)
legend(x = 0.7, y = 0.3, legend = paste0("AUC = ", auc_rf))
# calculate ROC
perf_pred <- get_roc(fit_xgb_roc, df_test)
perf_roc_xgb <- perf_pred[[1]]
pred_roc_xgb <- perf_pred[[2]]
# take AUC
auc_xgb <- round(unlist(slot(performance(pred_roc_xgb, measure = "auc"), "y.values")), 3)
# plot
plot(perf_roc_xgb, main = "XGB ROC curve", col = "steelblue", lwd = 3)
abline(a = 0, b = 1, lwd = 3, lty = 2, col = 1)
legend(x = 0.7, y = 0.3, legend = paste0("AUC = ", auc_xgb))
load("~/GitProjects/ML-projects/stroke/workspace.RData")
knitr::opts_chunk$set(echo = TRUE, message = F, warning = F, cache = T)
library(tidyverse)
library(caret)
#library(GGally)
library(DMwR) # installed via archive: install.packages("/Path/to/DMwR_0.4.1.tar.gz", repos=NULL, type="source" )
library(ROCR)
skimr::skim_to_wide(df)
GGally::ggpairs(df, aes(color = stroke, alpha = 0.2, dotsize = 0.02),
upper = list(continuous = GGally::wrap("cor", size = 2.5)),
diag = list(continuous = "barDiag")) +
scale_color_brewer(palette = "Set1", direction = -1) +
scale_fill_brewer(palette = "Set1", direction = -1)
View(df)
ggplot(df, aes(stroke, gender))+
geom_count()
?geom_count
ggplot(df, aes(stroke, gender))+
geom_count(aes(size = after_stat(prop)))
ggplot(df, aes(stroke, gender))+
geom_count()
ggplot(df, aes(stroke, gender))+
geom_count(fill="steelblue")
ggplot(df, aes(stroke, gender))+
geom_count(color="steelblue")
uniqye(df$gender)
unique(df$gender)
df <- df %>% filter(gender != "Other")
unique(df$gender)
GGally::ggpairs(df, aes(color = stroke, alpha = 0.2, dotsize = 0.02),
upper = list(continuous = GGally::wrap("cor", size = 2.5)),
diag = list(continuous = "barDiag")) +
scale_color_brewer(palette = "Set1", direction = -1) +
scale_fill_brewer(palette = "Set1", direction = -1)
ggplot(df, aes(stroke, gender))+
geom_count(color="steelblue")
ggplot(df, aes(stroke, gender))+
geom_count(color="steelblue", shape=1)
ggplot(df, aes(stroke, gender))+
geom_count(color="steelblue", shape=2)
ggplot(df, aes(stroke, gender))+
geom_count(color="steelblue", shape=3)
ggplot(df, aes(stroke, gender))+
geom_count(color="steelblue", shape=22)
ggplot(df, aes(stroke, gender))+
geom_count(color="steelblue", shape=0)
ggplot(df, aes(stroke, gender))+
geom_count(color="steelblue")
gender <- df %>% group_by(stroke, gender) %>% summarize(N=n())
gender
ggplot(gender, aes(stroke, N)) +
geom_bar(aes(fill=gender), stat = "identity")
ggplot(gender, aes(stroke, N)) +
geom_bar(aes(fill=gender), stat = "identity")+
scale_fill_brewer(palette = "Set1", direction = -1)
ggplot(gender, aes(stroke, N)) +
geom_bar(aes(fill=gender), alpha = 0.8, stat = "identity")+
scale_fill_brewer(palette = "Set1", direction = -1)
ggplot(gender, aes(stroke, N)) +
geom_bar(aes(fill=gender), alpha = 0.8, stat = "identity")+
scale_fill_brewer(palette = "Set2", direction = -1)
ggplot(gender, aes(stroke, N)) +
geom_bar(aes(fill=gender), alpha = 0.8, stat = "identity", position = "fill")+
scale_fill_brewer(palette = "Set2", direction = -1)
ggplot(gender, aes(stroke, N)) +
geom_bar(aes(fill=gender), alpha = 0.8, stat = "identity", position = "fill")+
scale_fill_brewer(palette = "Set2", direction = -1)+
ylab("proportion")
ggplot(df, aes(stroke, age)) +
geom_boxplot(aes(fill = gender))
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.8)+
geom_point(alpha=0.5)
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.3)+
geom_point(alpha=0.5)
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.3, size=1)
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.1, size=1)
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.1, size=0.8)
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.1, size=0.8, width = 2)
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.1, size=0.8, width = 0.2)
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.1, size=0.8, width = 0.2, aes(fill = gender))
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.1, size=0.8, width = 0.2, aes(color = gender))
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.4, size=0.8, width = 0.2, aes(color = gender))
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.3)+
geom_point(alpha=0.4, size=0.8, width = 0.2, aes(color = gender))
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.3)+
geom_point(alpha=0.4, size=0.8, width = 0.15, height = 0.1, aes(color = gender))
ggplot(df, aes(stroke, age)) +
geom_boxplot()+
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.4, size=0.8, width = 0.15, height = 0.1, aes(color = gender))
ggplot(df, aes(stroke, age)) +
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.4, size=0.8, width = 0.15, height = 0.1, aes(color = gender)) +
geom_boxplot()
ggplot(df, aes(stroke, age)) +
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.4, size=0.8, width = 0.15, height = 0.1, aes(color = gender)) +
geom_boxplot(alpha = 0.5)
ggplot(df, aes(stroke, age)) +
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.4, size=0.8, width = 0.15, height = 0.1, aes(color = gender)) +
geom_boxplot(alpha = 0.2)
ggplot(df, aes(stroke, age)) +
geom_violin(alpha=0.3)+
geom_jitter(alpha=0.2, size=0.8, width = 0.15, height = 0.1, aes(color = gender)) +
geom_boxplot(alpha = 0.2)
ggplot(df, aes(stroke, age)) +
geom_violin(alpha=0.3) +
geom_jitter(alpha=0.2, size=0.8, width = 0.15, height = 0.1, aes(color = gender)) +
geom_boxplot(alpha = 0.2) +
scale_color_brewer(palette = "Set2", direction = -1)
hyptens <- df %>% group_by(stroke, hypertension) %>% summarize(N=n())
hyptens
hyptens <- df %>% group_by(stroke, hypertension) %>% summarize(N=n())
hyptens
ggplot(gender, aes(stroke, N)) +
geom_bar(aes(fill=hypertension), alpha = 0.8, stat = "identity", position = "fill")+
scale_fill_brewer(palette = "Set3", direction = -1)+
ylab("proportion")
ggplot(hyptens, aes(stroke, N)) +
geom_bar(aes(fill=hypertension), alpha = 0.8, stat = "identity", position = "fill")+
scale_fill_brewer(palette = "Set3", direction = -1)+
ylab("proportion")
ggplot(hyptens, aes(stroke, N)) +
geom_bar(aes(fill=hypertension), alpha = 0.8, stat = "identity", position = "fill")+
scale_fill_brewer(palette = "Set1", direction = -1)+
ylab("proportion")
ggplot(hyptens, aes(stroke, N)) +
geom_bar(aes(fill=hypertension), alpha = 0.8, stat = "identity", position = "fill")+
scale_fill_brewer(palette = "Set2", direction = -1)+
ylab("proportion")
load("~/GitProjects/ML-projects/stroke/workspace.RData")
library(DMwR)
SMOTE(stroke ~ ., data.frame(df_train), perc.over = 100, perc.under = 200)
df_proc
sample_set
df_train
is.data.frame(df_train)
df_proc$stroke
