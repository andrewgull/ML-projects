pred_class_rf <- ifelse(pred_prob_rf$yes > cutoff, "yes", "no")
pred_class_rf <- as.factor(pred_class_rf)
cm_rf <- confusionMatrix(data = pred_class_rf,
reference = df_test$stroke,
mode="everything",
positive="yes")
cm_rf
set.seed(122)
cl <- makePSOCKcluster(10)
registerDoParallel(cl)
fit_adb <- train(stroke ~ .,
data = df_train_smote,
metric = "Kappa",
method = "AdaBoost.M1",
trControl = fit_ctrl_kp,
tuneGrid = expand.grid(.maxdepth = seq(1, 5, 1), .mfinal = seq(50, 150, 50), .coeflearn = c("Freund")),
verbosity = 0,
verbose = FALSE)
# coeflearn=Freund was chosen by automatic grid search, mfinal choice comes from there too
stopCluster(cl)
fit_adb
# calculate ROC
perf_pred <- get_roc(fit_adb, df_test)
perf_adb <- perf_pred[[1]]
pred_adb <- perf_pred[[2]]
# take AUC
auc_adb <- round(unlist(slot(performance(pred_adb, measure = "auc"), "y.values")), 3)
# plot
plot(perf_adb, main = "RF-k ROC curve", col = "steelblue", lwd = 3)
abline(a = 0, b = 1, lwd = 3, lty = 2, col = 1)
legend(x = 0.7, y = 0.3, legend = paste0("AUC = ", auc_adb))
set.seed(122)
cl <- makePSOCKcluster(10)
registerDoParallel(cl)
fit_adb <- train(stroke ~ .,
data = df_train_smote,
metric = "Kappa",
method = "AdaBoost.M1",
trControl = fit_ctrl_kp,
tuneGrid = expand.grid(.maxdepth = seq(1, 7, 1), .mfinal = seq(100, 200, 50), .coeflearn = c("Freund")),
verbosity = 0,
verbose = FALSE)
# coeflearn=Freund was chosen by automatic grid search, mfinal choice comes from there too
stopCluster(cl)
fit_adb
# calculate ROC
perf_pred <- get_roc(fit_adb, df_test)
perf_adb <- perf_pred[[1]]
pred_adb <- perf_pred[[2]]
# take AUC
auc_adb <- round(unlist(slot(performance(pred_adb, measure = "auc"), "y.values")), 3)
# plot
plot(perf_adb, main = "RF-k ROC curve", col = "steelblue", lwd = 3)
abline(a = 0, b = 1, lwd = 3, lty = 2, col = 1)
legend(x = 0.7, y = 0.3, legend = paste0("AUC = ", auc_adb))
# use pred_rf (pred_roc) object
plot(performance(pred_adb, measure = "tpr", x.measure = "cutoff"),
col="steelblue",
ylab = "Rate",
xlab="Probability cutoff")
plot(performance(pred_adb, measure = "fpr", x.measure = "cutoff"),
add = T, col = "red")
legend(x = 0.6,y = 0.7, c("TPR (Recall)", "FPR (1-Spec)"),
lty = 1, col =c('steelblue', 'red'), bty = 'n', cex = 1, lwd = 2)
abline(v= 0.347, lwd = 2, lty=6)
title("AdaBoost.M1")
set.seed(122)
cl <- makePSOCKcluster(18)
registerDoParallel(cl)
fit_adb <- train(stroke ~ .,
data = df_train_smote,
metric = "Kappa",
method = "AdaBoost.M1",
trControl = fit_ctrl_kp,
tuneGrid = expand.grid(.maxdepth = seq(1, 10, 1), .mfinal = seq(100, 150, 50), .coeflearn = c("Freund")),
verbosity = 0,
verbose = FALSE)
# coeflearn=Freund was chosen by automatic grid search, mfinal choice comes from there too
stopCluster(cl)
fit_adb
# calculate ROC
perf_pred <- get_roc(fit_adb, df_test)
perf_adb <- perf_pred[[1]]
pred_adb <- perf_pred[[2]]
# take AUC
auc_adb <- round(unlist(slot(performance(pred_adb, measure = "auc"), "y.values")), 3)
# plot
plot(perf_adb, main = "RF-k ROC curve", col = "steelblue", lwd = 3)
abline(a = 0, b = 1, lwd = 3, lty = 2, col = 1)
legend(x = 0.7, y = 0.3, legend = paste0("AUC = ", auc_adb))
# use pred_rf (pred_roc) object
plot(performance(pred_adb, measure = "tpr", x.measure = "cutoff"),
col="steelblue",
ylab = "Rate",
xlab="Probability cutoff")
plot(performance(pred_adb, measure = "fpr", x.measure = "cutoff"),
add = T, col = "red")
legend(x = 0.6,y = 0.7, c("TPR (Recall)", "FPR (1-Spec)"),
lty = 1, col =c('steelblue', 'red'), bty = 'n', cex = 1, lwd = 2)
abline(v= 0.347, lwd = 2, lty=6)
title("AdaBoost.M1")
# use pred_rf (pred_roc) object
plot(performance(pred_adb, measure = "tpr", x.measure = "cutoff"),
col="steelblue",
ylab = "Rate",
xlab="Probability cutoff")
plot(performance(pred_adb, measure = "fpr", x.measure = "cutoff"),
add = T, col = "red")
legend(x = 0.6,y = 0.7, c("TPR (Recall)", "FPR (1-Spec)"),
lty = 1, col =c('steelblue', 'red'), bty = 'n', cex = 1, lwd = 2)
abline(v= 0.18, lwd = 2, lty=6)
title("AdaBoost.M1")
# use pred_rf (pred_roc) object
plot(performance(pred_adb, measure = "tpr", x.measure = "cutoff"),
col="steelblue",
ylab = "Rate",
xlab="Probability cutoff")
plot(performance(pred_adb, measure = "fpr", x.measure = "cutoff"),
add = T, col = "red")
legend(x = 0.6,y = 0.7, c("TPR (Recall)", "FPR (1-Spec)"),
lty = 1, col =c('steelblue', 'red'), bty = 'n', cex = 1, lwd = 2)
abline(v= 0.16, lwd = 2, lty=6)
title("AdaBoost.M1")
pred_prob_adb <- predict(fit_adb, newdata=df_test, type = "prob")
# choose your cut-off
cutoff = 0.16
# turn probabilities into classes
pred_class_adb <- ifelse(pred_prob_adb$yes > cutoff, "yes", "no")
pred_class_adb <- as.factor(pred_class_adb)
cm_adb <- confusionMatrix(data = pred_class_adb,
reference = df_test$stroke,
mode="everything",
positive="yes")
cm_adb
# calculate ROC
perf_pred <- get_roc(fit_adb, df_test)
perf_adb <- perf_pred[[1]]
pred_adb <- perf_pred[[2]]
# take AUC
auc_adb <- round(unlist(slot(performance(pred_adb, measure = "auc"), "y.values")), 3)
# plot
plot(perf_adb, main = "AdaBoost ROC curve", col = "steelblue", lwd = 3)
abline(a = 0, b = 1, lwd = 3, lty = 2, col = 1)
legend(x = 0.7, y = 0.3, legend = paste0("AUC = ", auc_adb))
# calculate ROC
perf_pred_adb <- get_roc(fit_adb, df_test)
perf_adb <- perf_pred_adb[[1]]
pred_adb <- perf_pred_adb[[2]]
# take AUC
auc_adb <- round(unlist(slot(performance(pred_adb, measure = "auc"), "y.values")), 3)
# plot
plot(perf_adb, main = "AdaBoost ROC curve", col = "steelblue", lwd = 3)
abline(a = 0, b = 1, lwd = 3, lty = 2, col = 1)
legend(x = 0.7, y = 0.3, legend = paste0("AUC = ", auc_adb))
fit_ctrl_kp10 <- trainControl(## 10-fold CV
method = "repeatedcv",
number = 10,
repeats = 10,
allowParallel = T)
set.seed(122)
cl <- makePSOCKcluster(18)
registerDoParallel(cl)
fit_adb <- train(stroke ~ .,
data = df_train_smote,
metric = "Kappa",
method = "AdaBoost.M1",
trControl = fit_ctrl_kp10,
tuneGrid = expand.grid(.maxdepth = seq(1, 10, 1), .mfinal = seq(100, 150, 50), .coeflearn = c("Freund")),
verbosity = 0,
verbose = FALSE)
stopCluster(cl)
fit_adb
load("~/Projects/ML-projects/stroke/data/workspace.RData")
knitr::opts_chunk$set(echo = TRUE, message = F, warning = F, cache = F)
library(tidyverse)
library(caret)
#library(GGally)
library(DMwR) # installed via archive: install.packages("/Path/to/DMwR_0.4.1.tar.gz", repos=NULL, type="source" )
library(ROCR)
THREADS <- 10
# predict probabilities
pred_prob_rf_roc <- predict(fit_rf_roc, newdata = df_test, type = "prob")
# choose your cut-off
cutoff = 0.01
# turn probabilities into classes
pred_class_rf_roc <- ifelse(pred_prob_rf_roc$yes > cutoff, "yes", "no")
pred_class_rf_roc <- as.factor(pred_class_rf_roc)
cm_rf <- confusionMatrix(data = pred_class_rf_roc,
reference = df_test$stroke,
mode = "everything",
positive = "yes")
cm_rf
# predict probabilities
pred_prob_rf <- predict(fit_rf, newdata=df_test, type = "prob")
# choose your cut-off
cutoff = 0.01
# turn probabilities into classes
pred_class_rf <- ifelse(pred_prob_rf$yes > cutoff, "yes", "no")
pred_class_rf <- as.factor(pred_class_rf)
cm_rf <- confusionMatrix(data = pred_class_rf,
reference = df_test$stroke,
mode = "everything",
positive = "yes")
cm_rf
# use pred_rf (pred_roc) object
plot(performance(pred_rf_roc, measure = "tpr", x.measure = "cutoff"),
col = "steelblue",
ylab = "Rate",
xlab = "Probability cutoff")
plot(performance(pred_rf_roc, measure = "fpr", x.measure = "cutoff"),
add = T, col = "red")
legend(x = 0.6,y = 0.7, c("TPR (Recall)", "FPR (1-Spec)"),
lty = 1, col = c('steelblue', 'red'), bty = 'n', cex = 1, lwd = 2)
abline(v = 0.02, lwd = 2, lty=6)
title("RF-r")
# use pred_rf (pred_roc) object
plot(performance(pred_rf, measure = "tpr", x.measure = "cutoff"),
col="steelblue",
ylab = "Rate",
xlab="Probability cutoff")
plot(performance(pred_rf, measure = "fpr", x.measure = "cutoff"),
add = T, col = "red")
legend(x = 0.6,y = 0.7, c("TPR (Recall)", "FPR (1-Spec)"),
lty = 1, col =c('steelblue', 'red'), bty = 'n', cex = 1, lwd = 2)
abline(v = 0.02, lwd = 2, lty=6)
title("RF-k")
# calculate ROC
perf_pred_roc <- get_roc(fit_rf_roc, df_test)
perf_rf_roc <- perf_pred_roc[[1]]
pred_rf_roc <- perf_pred_roc[[2]]
# take AUC
auc_rf_roc <- round(unlist(slot(performance(pred_rf_roc, measure = "auc"), "y.values")), 3)
# plot
plot(perf_rf_roc, main = "RF-r ROC curve", col = "steelblue", lwd = 3)
abline(a = 0, b = 1, lwd = 3, lty = 2, col = 1)
legend(x = 0.7, y = 0.3, legend = paste0("AUC = ", auc_rf_roc))
# calculate ROC
perf_pred <- get_roc(fit_rf, df_test)
perf_rf <- perf_pred[[1]]
pred_rf <- perf_pred[[2]]
# take AUC
auc_rf <- round(unlist(slot(performance(pred_rf, measure = "auc"), "y.values")), 3)
# plot
plot(perf_rf, main = "RF-k ROC curve", col = "steelblue", lwd = 3)
abline(a = 0, b = 1, lwd = 3, lty = 2, col = 1)
legend(x = 0.7, y = 0.3, legend = paste0("AUC = ", auc_rf))
# predict probabilities
pred_prob_rf_roc <- predict(fit_rf_roc, newdata = df_test, type = "prob")
# choose your cut-off
cutoff = 0.01
# turn probabilities into classes
pred_class_rf_roc <- ifelse(pred_prob_rf_roc$yes > cutoff, "yes", "no")
pred_class_rf_roc <- as.factor(pred_class_rf_roc)
cm_rf <- confusionMatrix(data = pred_class_rf_roc,
reference = df_test$stroke,
mode = "everything",
positive = "yes")
cm_rf
knitr::opts_chunk$set(echo = TRUE, message = F, warning = F, cache = T)
library(tidyverse)
library(caret)
#library(GGally)
library(DMwR) # installed via archive: install.packages("/Path/to/DMwR_0.4.1.tar.gz", repos=NULL, type="source" )
library(ROCR)
THREADS <- 16
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "cfdfffffddcf", na = c("Unknown", "N/A"))
# if you set smoking_status to factor in col_types, na() won't work
df$smoking_status <- as_factor(df$smoking_status)
df$smoking_status <- fct_relevel(df$smoking_status, c("never smoked", "formerly smoked", "smokes"))
df$stroke <- factor(ifelse(df$stroke == 1, "yes", "no"), levels = c("no", "yes"))
df
df$id <- NULL
skimr::skim_to_wide(df)
df %>% filter(bmi == 97.6)
df %>% filter(bmi == 97.6)
df %>% filter(avg_glucose_level == 271.74)
ggplot(df, aes(stroke, age)) +
geom_boxplot(aes(fill = stroke), alpha = 0.5, varwidth = T, notch = T) +
geom_violin(aes(fill = stroke), alpha = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
xlab("")
ggplot(df, aes(stroke, age)) +
geom_violin(alpha=0.3) +
geom_jitter(alpha=0.2, size=0.8, width = 0.15, height = 0.1, aes(color = gender)) +
geom_boxplot(alpha = 0.2) +
scale_color_brewer(palette = "Set2", direction = -1)
df %>% filter(is.na(bmi)) %>% group_by(stroke) %>% summarise(N=n())
df <- df %>% filter(gender != "Other")
ggplot(df, aes(stroke, age)) +
geom_boxplot(aes(fill = stroke), alpha = 0.5, varwidth = T, notch = T) +
geom_violin(aes(fill = stroke), alpha = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
xlab("")
ggplot(df, aes(stroke, age)) +
geom_violin(alpha=0.3) +
geom_jitter(alpha=0.2, size=0.8, width = 0.15, height = 0.1, aes(color = gender)) +
geom_boxplot(alpha = 0.2) +
scale_color_brewer(palette = "Set2", direction = -1)
ggplot(df, aes(stroke, bmi)) +
geom_boxplot(aes(fill = stroke), alpha = 0.5, varwidth = T, notch = T) +
geom_violin(aes(fill = stroke), alpha = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
xlab("")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.5, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
xlab("")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.5, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
xlab("")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.8, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
xlab("")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.8, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
xlab("")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.8, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke))
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.8, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(cols = vars(stroke))
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.8, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(cols = vars(stroke)) +
guides(fill="none")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.8, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(cols = vars(stroke)) +
guides(legend="none")
?guides
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.8, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(cols = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.8, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.8, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.8, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.8, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color=stroke), alpha = 0.8, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color = stroke, size = avg_glucose_level), alpha = 0.8) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
knitr::opts_chunk$set(echo = TRUE, message = F, warning = F, cache = T)
library(tidyverse)
library(caret)
#library(GGally)
library(DMwR) # installed via archive: install.packages("/Path/to/DMwR_0.4.1.tar.gz", repos=NULL, type="source" )
library(ROCR)
THREADS <- 16
df <- read_csv("data/healthcare-dataset-stroke-data.csv", col_types = "cfdfffffddcf", na = c("Unknown", "N/A"))
# if you set smoking_status to factor in col_types, na() won't work
df$smoking_status <- as_factor(df$smoking_status)
df$smoking_status <- fct_relevel(df$smoking_status, c("never smoked", "formerly smoked", "smokes"))
df$stroke <- factor(ifelse(df$stroke == 1, "yes", "no"), levels = c("no", "yes"))
df
df$id <- NULL
skimr::skim_to_wide(df)
df %>% group_by(stroke, smoking_status) %>% summarise(N=n())
df %>% filter(is.na(bmi)) %>% group_by(stroke) %>% summarise(N=n())
df <- df %>% filter(gender != "Other")
ggplot(df, aes(stroke, age)) +
geom_boxplot(aes(fill = stroke), alpha = 0.5, varwidth = T, notch = T) +
geom_violin(aes(fill = stroke), alpha = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
xlab("")
ggplot(df, aes(stroke, age)) +
geom_violin(alpha=0.3) +
geom_jitter(alpha=0.2, size=0.8, width = 0.15, height = 0.1, aes(color = gender)) +
geom_boxplot(alpha = 0.2) +
scale_color_brewer(palette = "Set2", direction = -1)
ggplot(df, aes(stroke, bmi)) +
geom_boxplot(aes(fill = stroke), alpha = 0.5, varwidth = T, notch = T) +
geom_violin(aes(fill = stroke), alpha = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
xlab("")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color = stroke, size = avg_glucose_level), alpha = 0.2) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color = stroke, size = avg_glucose_level), alpha = 0.4) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color = avg_glucose_level), alpha = 0.4) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color = avg_glucose_level), alpha = 0.4) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "bottom")
ggplot(df, aes(age, bmi)) +
geom_point(aes(color = avg_glucose_level), alpha = 0.4) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides()
ggplot(df, aes(age, bmi)) +
geom_point(aes(color = avg_glucose_level), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides()
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = stroke), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides()
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = stroke), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = gender), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = hypertension), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = hypertension), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = gender), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = heart_disease), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = ever_married), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = residence_type), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = Residence_type), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = smoking_status), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = bmi), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides(color = "none")
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = bmi), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides()
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = smoking_status), alpha = 0.4, size = 0.5) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides()
ggplot(df, aes(age, avg_glucose_level)) +
geom_point(aes(color = smoking_status), alpha = 0.6, size = 1) +
scale_fill_brewer(palette = "Set1", direction = -1) +
facet_grid(rows = vars(stroke)) +
guides()
